<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2008-2009 Cantus Foundation
  http://alpheios.net
  
  This file is part of Alpheios.
  
  Alpheios is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  Alpheios is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:svg="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <head>
    <title>Alpheios:Edit Treebank Sentence</title>
    <meta id="alpheios-pedagogical-text" name="alpheios-pedagogical-text"
      content="true"/>
    <meta name="alpheios-editTransformURL"
      content="../xslt/treebank-svg-edit.xsl"/>
    <link rel="stylesheet" type="text/css" href="../css/alph-treebank-edit.css"/>
    <script language="javascript" type="text/javascript" src="../script/alph-treebank-edit.js"/>
    <script language="javascript" type="text/javascript" src="../script/alph-edit-utils.js"/>
    <script language="javascript" type="text/javascript" src="../script/jquery-1.2.6-alph.js"/>

    <!-- A URL can be supplied that can be used to retrieve information about
         the document and treebank or else the following information should be
         supplied directly in metadata parameters or URL call parameters:
            numSentences (if sentence navigation is desired), lang, direction
         (See below for descriptions of parameters.)
         If the URL is present then it will take precedence over the parameter
         values, so if the parameters are to be used then the URL should be
         commented out.
    -->
    <meta name="alpheios-getInfoURL" content="../xq/treebank-getinfo.xq"/>

    <!-- Parameters controlling behavior of the editor
         All names are prefixed in the <meta> tags with "alpheios-param-".
         All can be overridden by parameters supplied at invocation time to
         the url, using the names below without the "alpheios-param-" prefix.
            app: [editor|viewer]
              Whether we're editing or just viewing the tree.
              If set to "viewer", other parameters controlling editing
              behavior will be ignored.
            numSentences: integer > 0
              Number of sentences in the document.  Only needed if sentence
              navigation is enabled (sentenceNavigation = "yes").
            lang:
              Language of the sentence.
            direction: [ltr|rtl]
              Direction of text flow.
            arcEditing: [yes|no]
              If "yes", allow arc label editing
              and div#label-menus > div#arc-label-menus should be defined
              either explicitly or built from the format description.
            nodeEditing: [yes|no]
              If "yes", allow node label editing
              and div#label-menus > div#node-label-menus should be defined
              either explicitly or built from the format description.
            buildContent:
              What content to build from treebank description.
              This can only be done if the URL to retrieve treebank info
              is supplied above.
              Contains a space-separated list of possible values:
                menus = menus for arc and/or node label editing
                style = style sheet controlling display of values
                key = key describing values
              If not enabled, the content must be supplied directly in this
              file.  Search for "buildContent" to find the locations.
            sentenceNavigation: [yes|no]
              If "yes", include controls to allow navigation between sentences
              within the editor.  For this to work, the sentence ids must be
              integers running from 1 to maxSentId, where maxSentId is obtained
              either from invoking the alpheios-getInfoURL or from the
              numSentences parameter.
    -->
    <meta name="alpheios-param-app" content="editor"/>
    <meta name="alpheios-param-numSentences" content="1"/>
    <meta name="alpheios-param-lang" content="la"/>
    <meta name="alpheios-param-direction" content="ltr"/>
    <meta name="alpheios-param-arcEditing" content="yes"/>
    <meta name="alpheios-param-nodeEditing" content="yes"/>
    <meta name="alpheios-param-buildContent" content="menus style key"/>
    <meta name="alpheios-param-sentenceNavigation" content="yes"/>

    <!-- URLs to get and put a single sentence in treebank XML -->
    <meta name="alpheios-getSentenceURL" content="../xq/treebank-getsentence.xq"/>
    <meta name="alpheios-putSentenceURL" content="../xq/treebank-putsentence.xq"/>

    <!-- URL to call when exiting and label to use on exit button -->
    <meta name="alpheios-exitURL" content="../xq/treebank-getlist.xq"/>
    <meta name="alpheios-exitLabel" content="Sentence list"/>

    <!-- Provide style here if buildContent param does not contain "style".
         Styles should be provided for
            g text[pos=<pos>]     words in text and tree
            td[pos=<pos>]         words in key
         for each part of speech <pos>.
    -->
    <style type="text/css"/>
  </head>
  <body onkeypress="Keypress(event)" onload="Init(event)">
    <table style="border:none; padding:0; width:100%">
      <tr>
        <td>
          <div class="controls alpheios-ignore" id="edit-controls">
            <table style="border:none; padding:0">
              <tr>
                <td>
                  <div id="sent-navigation">
                    <table style="border:1px solid black; padding:0">
                      <tr>
                        <td>
                          <button id="first-button" onclick="ClickOnGoTo(event)"
                            >&#160;</button>
                        </td>
                        <td>
                          <button id="prev-button" onclick="ClickOnGoTo(event)"
                            >&#160;</button>
                        </td>
                        <td>
                          <label id="current-label">&#160;</label>
                        </td>
                        <td>
                          <button id="next-button" onclick="ClickOnGoTo(event)"
                            >&#160;</button>
                        </td>
                        <td>
                          <button id="last-button" onclick="ClickOnGoTo(event)"
                            >&#160;</button>
                        </td>
                        <td>
                          <form onsubmit="return SubmitGoTo(this)"
                            name="sent-navigation-goto">
                            <label>&#xA0;&#xA0;Go to sentence
                              number</label>
                            <input type="text" name="s" size="5"/>
                          </form>
                        </td>
                      </tr>
                    </table>
                  </div>
                </td>
                <td>
                  <form onsubmit="return SubmitExit(this)"
                    name="sent-navigation-exit">
                    <input type="hidden" name="doc"/>
                    <input type="hidden" name="s"/>
                    <button type="submit">Exit</button>
                  </form>
                </td>
              </tr>
            </table>
            <table style="border:none; padding:0">
              <tr>
                <td>
                  <table style="border:none; padding:0">
                    <tr>
                      <button id="mode-tree" class="icon mode-button"
                        value="tree" checked="checked"
                        onclick="ClickOnMode(event)" title="Tree tool"
                        >&#x2F4A;</button>
                      <button id="mode-label" class="icon mode-button"
                        value="label" onclick="ClickOnMode(event)"
                        title="Label tool">&#x270D;</button>
                      <button id="mode-ellipsis" class="icon mode-button"
                        value="ellipsis" onclick="ClickOnMode(event)"
                        title="Ellipsis tool">&#x2026;</button>
                    </tr>
                  </table>
                </td>
                <td>
                  <button id="expansion-checkbox" class="icon" checked="checked"
                    onclick="ShowExpansionControls(event)"
                    title="Show expansion controls">&#x21C5;</button>
                </td>
                <td>
                  <table style="border:none; padding:0">
                    <tr>
                      <button id="undo-button" disabled="disabled" class="icon"
                        onclick="ClickOnUndo(event)" title="Undo"
                        >&#x27F2;</button>
                      <button id="redo-button" disabled="disabled" class="icon"
                        onclick="ClickOnRedo(event)" title="Redo"
                        >&#x27F3;</button>
                    </tr>
                  </table>
                </td>
                <td>
                  <button id="save-button" disabled="disabled" class="icon"
                    onclick="ClickOnSave(event)" title="Save sentence"
                    >&#x2707;</button>
                </td>
              </tr>
            </table>
            <!-- Provide menus here if buildContent param does not contain "menus" -->
            <div id="label-menus"/>
          </div>
        </td>
        <td style="vertical-align:top; text-align:right">
          <div class="alpheios-ignore" id="alph-page-header">
            <img src="../image/alpheios.png" alt="Alpheios"/>
          </div>
        </td>
      </tr>
    </table>
    <svg xmlns="http://www.w3.org/2000/svg" id="dependency-tree"/>
    <!-- Provide key here if buildContent param does not contain "key" -->
    <div id="key"/>
  </body>
</html>
